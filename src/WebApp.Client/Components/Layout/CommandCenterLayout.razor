@using Ingweland.Fog.Application.Client.Web.Models
@using Ingweland.Fog.WebApp.Client.Components.Elements
@using Ingweland.Fog.WebApp.Client.Services.Abstractions
@using Ingweland.Fog.WebApp.Client.Theme
@inherits LayoutComponentBase
@inject IPageSetupService PageSetupService
<HeadContent>
    <meta name="description" content="@_pageMetadata.Description">
    <meta name="keywords" content="@_pageMetadata.Keywords">
</HeadContent>
<PageTitle>@_pageMetadata.PageTitle</PageTitle>
<MudThemeProvider Theme="FogTheme.Theme"/>

<MudLayout Class="d-flex flex-column" Style="min-height: 100dvh">
    <CommandCenterNavBar/>
    <MudMainContent Class="command-center-main-content">
        <LoadingIndicator/>
        <ErrorBoundary>
            @Body
        </ErrorBoundary>
    </MudMainContent>
</MudLayout>

@code
{
    private PageMetadata _pageMetadata = null!;

    protected override void OnInitialized()
    {
        _pageMetadata = PageSetupService.GetMetadata();
    }
}
